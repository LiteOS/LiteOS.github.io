<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Time Management | Huawei LiteOS | English Site</title>
    <meta name="description" content="A Lightweight IoT Operating System that Makes Everything Around Us Smart">
    
    
    <link rel="preload" href="/assets/css/0.styles.f9a75f71.css" as="style"><link rel="preload" href="/assets/js/app.8f21dcfa.js" as="script"><link rel="preload" href="/assets/js/31.58f82c5b.js" as="script"><link rel="prefetch" href="/assets/js/2.3297c37d.js"><link rel="prefetch" href="/assets/js/3.667112e5.js"><link rel="prefetch" href="/assets/js/4.186d74db.js"><link rel="prefetch" href="/assets/js/5.04aa2c01.js"><link rel="prefetch" href="/assets/js/6.0e6e79ff.js"><link rel="prefetch" href="/assets/js/7.5a6f7e6d.js"><link rel="prefetch" href="/assets/js/8.eaac6579.js"><link rel="prefetch" href="/assets/js/9.613e5da3.js"><link rel="prefetch" href="/assets/js/10.9fee541a.js"><link rel="prefetch" href="/assets/js/11.41f3beed.js"><link rel="prefetch" href="/assets/js/12.a673f4e0.js"><link rel="prefetch" href="/assets/js/13.5c9a54da.js"><link rel="prefetch" href="/assets/js/14.4ad924c7.js"><link rel="prefetch" href="/assets/js/15.78e7c1ea.js"><link rel="prefetch" href="/assets/js/16.855039e2.js"><link rel="prefetch" href="/assets/js/17.2cc853db.js"><link rel="prefetch" href="/assets/js/18.cb1be350.js"><link rel="prefetch" href="/assets/js/19.f8b86b19.js"><link rel="prefetch" href="/assets/js/20.8d1aea4f.js"><link rel="prefetch" href="/assets/js/21.d5bfbd7d.js"><link rel="prefetch" href="/assets/js/22.a03abaaf.js"><link rel="prefetch" href="/assets/js/23.408824a8.js"><link rel="prefetch" href="/assets/js/24.c52122fd.js"><link rel="prefetch" href="/assets/js/25.2215e3a0.js"><link rel="prefetch" href="/assets/js/26.6a9b6fe1.js"><link rel="prefetch" href="/assets/js/27.3036faf1.js"><link rel="prefetch" href="/assets/js/28.b7e689e8.js"><link rel="prefetch" href="/assets/js/29.db82aa1e.js"><link rel="prefetch" href="/assets/js/30.a489afe4.js"><link rel="prefetch" href="/assets/js/32.f36667f7.js"><link rel="prefetch" href="/assets/js/33.96a53424.js"><link rel="prefetch" href="/assets/js/34.9cfcd76e.js"><link rel="prefetch" href="/assets/js/35.eb3b0d8d.js"><link rel="prefetch" href="/assets/js/36.605de444.js"><link rel="prefetch" href="/assets/js/37.f6ac25f5.js"><link rel="prefetch" href="/assets/js/38.7bf68115.js"><link rel="prefetch" href="/assets/js/39.fc50ad5f.js"><link rel="prefetch" href="/assets/js/40.432f5bcf.js"><link rel="prefetch" href="/assets/js/41.5614090c.js"><link rel="prefetch" href="/assets/js/42.3fbd587d.js"><link rel="prefetch" href="/assets/js/43.f7566dff.js"><link rel="prefetch" href="/assets/js/44.7264511b.js"><link rel="prefetch" href="/assets/js/45.cb10b436.js"><link rel="prefetch" href="/assets/js/46.2ce600d1.js"><link rel="prefetch" href="/assets/js/47.bbbcc8bc.js"><link rel="prefetch" href="/assets/js/48.00964801.js"><link rel="prefetch" href="/assets/js/49.baad8da9.js"><link rel="prefetch" href="/assets/js/50.f64dd3c4.js"><link rel="prefetch" href="/assets/js/51.f199eb0c.js"><link rel="prefetch" href="/assets/js/52.b602e281.js"><link rel="prefetch" href="/assets/js/53.163e29b0.js"><link rel="prefetch" href="/assets/js/54.04d0738f.js"><link rel="prefetch" href="/assets/js/55.b08df693.js"><link rel="prefetch" href="/assets/js/56.0d2b8944.js"><link rel="prefetch" href="/assets/js/57.ba3cb01e.js"><link rel="prefetch" href="/assets/js/58.cd27bd1d.js"><link rel="prefetch" href="/assets/js/59.31e37903.js"><link rel="prefetch" href="/assets/js/60.fb89fcb7.js"><link rel="prefetch" href="/assets/js/61.4751bae8.js"><link rel="prefetch" href="/assets/js/62.e7d4f30e.js"><link rel="prefetch" href="/assets/js/63.743231d6.js"><link rel="prefetch" href="/assets/js/64.64de4bfa.js"><link rel="prefetch" href="/assets/js/65.a201cdf7.js"><link rel="prefetch" href="/assets/js/66.26f7bf5d.js"><link rel="prefetch" href="/assets/js/67.7d08924a.js"><link rel="prefetch" href="/assets/js/68.cfeceba9.js"><link rel="prefetch" href="/assets/js/69.7ed50e13.js"><link rel="prefetch" href="/assets/js/70.f600610f.js"><link rel="prefetch" href="/assets/js/71.bcb2f97d.js"><link rel="prefetch" href="/assets/js/72.8ace6c18.js"><link rel="prefetch" href="/assets/js/73.03623b78.js"><link rel="prefetch" href="/assets/js/74.babf5984.js"><link rel="prefetch" href="/assets/js/75.3415344a.js"><link rel="prefetch" href="/assets/js/76.8ed34888.js"><link rel="prefetch" href="/assets/js/77.90d18a12.js"><link rel="prefetch" href="/assets/js/78.a8b26b00.js"><link rel="prefetch" href="/assets/js/79.ee5c51b6.js"><link rel="prefetch" href="/assets/js/80.9ea5adc2.js"><link rel="prefetch" href="/assets/js/81.defc16f8.js"><link rel="prefetch" href="/assets/js/82.89b12aae.js"><link rel="prefetch" href="/assets/js/83.b29960b9.js"><link rel="prefetch" href="/assets/js/84.d7937b0e.js"><link rel="prefetch" href="/assets/js/85.8caa3a60.js"><link rel="prefetch" href="/assets/js/86.99c5a1d4.js"><link rel="prefetch" href="/assets/js/87.3d0a595c.js"><link rel="prefetch" href="/assets/js/88.2816f43c.js"><link rel="prefetch" href="/assets/js/89.fcbe1fab.js"><link rel="prefetch" href="/assets/js/90.bad77eeb.js"><link rel="prefetch" href="/assets/js/91.2c9e953f.js"><link rel="prefetch" href="/assets/js/92.ee5a1205.js"><link rel="prefetch" href="/assets/js/93.5f9dd0ed.js"><link rel="prefetch" href="/assets/js/94.e2db47e4.js"><link rel="prefetch" href="/assets/js/95.ea65c1fc.js"><link rel="prefetch" href="/assets/js/96.15957b9d.js"><link rel="prefetch" href="/assets/js/97.919b5a4c.js"><link rel="prefetch" href="/assets/js/98.4d58f732.js"><link rel="prefetch" href="/assets/js/99.1ee84242.js"><link rel="prefetch" href="/assets/js/100.f2740d7d.js"><link rel="prefetch" href="/assets/js/101.4f35586a.js"><link rel="prefetch" href="/assets/js/102.3a20c428.js"><link rel="prefetch" href="/assets/js/103.bf0336ca.js"><link rel="prefetch" href="/assets/js/104.00a4fda1.js"><link rel="prefetch" href="/assets/js/105.4dde8bb5.js"><link rel="prefetch" href="/assets/js/106.667bab19.js"><link rel="prefetch" href="/assets/js/107.b8f9b6b3.js"><link rel="prefetch" href="/assets/js/108.ddbfa1cd.js"><link rel="prefetch" href="/assets/js/109.378c007d.js"><link rel="prefetch" href="/assets/js/110.00371c84.js"><link rel="prefetch" href="/assets/js/111.06cbe5f5.js"><link rel="prefetch" href="/assets/js/112.6b26bb4a.js"><link rel="prefetch" href="/assets/js/113.4ed323b4.js"><link rel="prefetch" href="/assets/js/114.162d0c9e.js"><link rel="prefetch" href="/assets/js/115.e1ec3c92.js"><link rel="prefetch" href="/assets/js/116.9780fe87.js"><link rel="prefetch" href="/assets/js/117.89c54aca.js"><link rel="prefetch" href="/assets/js/118.6d4e8105.js"><link rel="prefetch" href="/assets/js/119.1bc7b102.js"><link rel="prefetch" href="/assets/js/120.2d59fa34.js"><link rel="prefetch" href="/assets/js/121.5392e403.js"><link rel="prefetch" href="/assets/js/122.8056d81c.js"><link rel="prefetch" href="/assets/js/123.6605257d.js"><link rel="prefetch" href="/assets/js/124.f886b101.js"><link rel="prefetch" href="/assets/js/125.b8f8d786.js"><link rel="prefetch" href="/assets/js/126.65517473.js"><link rel="prefetch" href="/assets/js/127.57d96034.js"><link rel="prefetch" href="/assets/js/128.8a6f58f7.js"><link rel="prefetch" href="/assets/js/129.d77726fd.js"><link rel="prefetch" href="/assets/js/130.476e0c6a.js"><link rel="prefetch" href="/assets/js/131.29249851.js"><link rel="prefetch" href="/assets/js/132.ab37d058.js"><link rel="prefetch" href="/assets/js/133.98d2fd98.js"><link rel="prefetch" href="/assets/js/134.fc184852.js"><link rel="prefetch" href="/assets/js/135.7dd6e124.js"><link rel="prefetch" href="/assets/js/136.45a50b68.js"><link rel="prefetch" href="/assets/js/137.82950ece.js"><link rel="prefetch" href="/assets/js/138.a759b476.js"><link rel="prefetch" href="/assets/js/139.1782f0b4.js"><link rel="prefetch" href="/assets/js/140.5c4c3442.js"><link rel="prefetch" href="/assets/js/141.aa4c94f6.js"><link rel="prefetch" href="/assets/js/142.7b2699af.js"><link rel="prefetch" href="/assets/js/143.29ddfa6c.js"><link rel="prefetch" href="/assets/js/144.618fe068.js"><link rel="prefetch" href="/assets/js/145.f8427d3c.js"><link rel="prefetch" href="/assets/js/146.5afd6d1c.js"><link rel="prefetch" href="/assets/js/147.0fd54804.js"><link rel="prefetch" href="/assets/js/148.f15e7d7a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.30242b4b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f9a75f71.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">Huawei LiteOS | English Site</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/getting-started.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="/en/kernel/" class="nav-link router-link-active">Develop Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kernel/time-magmt.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/kernel/time-magmt.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/getting-started.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="/en/kernel/" class="nav-link router-link-active">Develop Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kernel/time-magmt.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/kernel/time-magmt.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/en/kernel/" class="sidebar-link">Overview</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Basic Kernel</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/en/kernel/task.html" class="sidebar-link">Task</a></li><li><a href="/en/kernel/memory.html" class="sidebar-link">Memory</a></li><li><a href="/en/kernel/interrupt.html" class="sidebar-link">Interrupt</a></li><li><a href="/en/kernel/queue.html" class="sidebar-link">Queue</a></li><li><a href="/en/kernel/event.html" class="sidebar-link">Event</a></li><li><a href="/en/kernel/mutex.html" class="sidebar-link">Mutex</a></li><li><a href="/en/kernel/semaphore.html" class="sidebar-link">Semaphore</a></li><li><a href="/en/kernel/time-magmt.html" class="active sidebar-link">Time Management</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/kernel/time-magmt.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/en/kernel/time-magmt.html#development-guidelines" class="sidebar-link">Development Guidelines</a></li><li class="sidebar-sub-header"><a href="/en/kernel/time-magmt.html#precautions" class="sidebar-link">Precautions</a></li><li class="sidebar-sub-header"><a href="/en/kernel/time-magmt.html#programming-example" class="sidebar-link">Programming Example</a></li></ul></li><li><a href="/en/kernel/swtmr.html" class="sidebar-link">Software Timers</a></li><li><a href="/en/kernel/list.html" class="sidebar-link">Doubly-Linked List</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>ErrorCode Reference</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/en/kernel/errorcode-task.html" class="sidebar-link">Task Error Codes</a></li><li><a href="/en/kernel/errorcode-queue.html" class="sidebar-link">Queue Error Code</a></li><li><a href="/en/kernel/errorcode-event.html" class="sidebar-link">Event Error Codes</a></li><li><a href="/en/kernel/errorcode-mutex.html" class="sidebar-link">Mutex Error Code</a></li><li><a href="/en/kernel/errorcode-semaphore.html" class="sidebar-link">Semaphore Error Codes</a></li><li><a href="/en/kernel/errorcode-swtmr.html" class="sidebar-link">Software Timer Error Codes</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="time-management"><a href="#time-management" aria-hidden="true" class="header-anchor">#</a> Time Management</h1> <p></p><div class="table-of-contents"><ul><li><a href="#overview">Overview</a><ul><li><a href="#basic-concept">Basic Concept</a></li><li><a href="#related-concepts">Related Concepts</a></li></ul></li><li><a href="#development-guidelines">Development Guidelines</a><ul><li><a href="#usage-scenarios">Usage Scenarios</a></li><li><a href="#functions">Functions</a></li><li><a href="#development-process">Development Process</a></li></ul></li><li><a href="#precautions">Precautions</a></li><li><a href="#programming-example">Programming Example</a><ul><li><a href="#example-description">Example Description</a></li><li><a href="#example-code">Example Code</a></li><li><a href="#verification">Verification</a></li></ul></li></ul></div><p></p> <h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2> <h3 id="basic-concept"><a href="#basic-concept" aria-hidden="true" class="header-anchor">#</a> Basic Concept</h3> <p>Time management provides time services to applications and uses system time as the reference time.</p> <p>System time is generated when an output pulse of a timer/counter triggers an interrupt, it is an integral number or long integral number of ticks. The interval between consecutive output pulses is a tick. The tick length is statically configured.</p> <p>User time is measured in seconds or milliseconds, whereas CPU time is measured in ticks. When a user initiates an operation to the operating system, such as suspending or delaying a task, the time management module converts user time between seconds/milliseconds and ticks.</p> <p>The rule for conversion between ticks and seconds is user configurable.</p> <p>The time management module of Huawei LiteOS provides time conversion, measurement, and deferral to satisfy what users need.</p> <h3 id="related-concepts"><a href="#related-concepts" aria-hidden="true" class="header-anchor">#</a> Related Concepts</h3> <ul><li>Cycle</li></ul> <p>Cycle is the minimal time unit of the operating system. The system clock speed is represented in the form of cycles per second.</p> <ul><li>Tick</li></ul> <p>A tick is the basic time unit used in OS. The tick length is user configurable. Typically, it is determined by the system clock speed and represented in the form of ticks per second.</p> <h2 id="development-guidelines"><a href="#development-guidelines" aria-hidden="true" class="header-anchor">#</a> Development Guidelines</h2> <h3 id="usage-scenarios"><a href="#usage-scenarios" aria-hidden="true" class="header-anchor">#</a> Usage Scenarios</h3> <p>Read the topic when you want to learn more about system time and conversion between ticks and seconds/milliseconds.</p> <h3 id="functions"><a href="#functions" aria-hidden="true" class="header-anchor">#</a> Functions</h3> <p>The time management module of Huawei LiteOS provides the following functions:</p> <ul><li><p>Time conversion: converts the CPU runtime from ticks to milliseconds or microseconds</p></li> <li><p>Time measurement: measures the system runtime in ticks</p></li></ul> <table><thead><tr><th>Function Category</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>Time conversion</td> <td><code>LOS_MS2Tick</code></td> <td>Converts milliseconds into ticks (reserved)</td></tr> <tr><td></td> <td><code>LOS_Tick2MS</code></td> <td>Converts ticks into milliseconds (reserved)</td></tr> <tr><td>Time measurement</td> <td><code>LOS_CyclePerTickGet</code></td> <td>Counts the number of cycles per tick</td></tr> <tr><td></td> <td><code>LOS_TickCountGet</code></td> <td>Measures the runtime in ticks</td></tr></tbody></table> <h3 id="development-process"><a href="#development-process" aria-hidden="true" class="header-anchor">#</a> Development Process</h3> <p>Time management typical development process:</p> <ol><li><p>Set the <code>LOSCFG_BASE_CORE_TICK_HW_TIME</code> parameter in the <code>los_config.h</code> file to YES.</p> <p>Set the <code>LOSCFG_BASE_CORE_TICK_PER_SECOND</code> parameter in the <code>los_config.h</code> file to a valid number of ticks per second.</p></li> <li><p>Call the clock conversion API.</p></li> <li><p>Gets the system runtime that is measured in ticks</p> <p>Calls the <code>LOS_TickCountGet</code> API to get the global <code>g_ullTickCount</code>.</p></li></ol> <h2 id="precautions"><a href="#precautions" aria-hidden="true" class="header-anchor">#</a> Precautions</h2> <ul><li><p>The system runtime (measured in ticks) can be acquired only after the system clock is enabled.</p></li> <li><p>The time management module works only after the <code>OS_SYS_CLOCK</code> in <code>los_config.h</code> is enabled and the <code>LOSCFG_BASE_CORE_TICK_PER_SECOND</code> of the Tick module is specified.</p></li> <li><p>When measured in ticks, system runtime is not accurate, because it is not measured while interrupts are disabled.</p></li></ul> <h2 id="programming-example"><a href="#programming-example" aria-hidden="true" class="header-anchor">#</a> Programming Example</h2> <h3 id="example-description"><a href="#example-description" aria-hidden="true" class="header-anchor">#</a> Example Description</h3> <p>The programming example will cover the following functions:</p> <ol><li><p>Time conversion: from milliseconds to ticks, or conversely</p></li> <li><p>Time measurement and deferral: measures the number of cycles per second, the number of ticks for which the system is running, and the number of ticks for which the deferral lasts</p></li></ol> <h3 id="example-code"><a href="#example-code" aria-hidden="true" class="header-anchor">#</a> Example Code</h3> <p>Prerequisites</p> <ul><li><p>The <code>LOSCFG_BASE_CORE_TICK_PER_SECOND</code> in the <code>los_config.h</code> file is set to a valid number of ticks per second.</p></li> <li><p>The <code>OS_SYS_CLOCK</code> (unit: Hz) is set.</p></li></ul> <p>Time conversion:</p> <div class="language-c extra-class"><pre class="language-c"><code>VOID <span class="token function">Example_TransformTime</span><span class="token punctuation">(</span>VOID<span class="token punctuation">)</span> 
 <span class="token punctuation">{</span> 
     UINT32 uwMs<span class="token punctuation">;</span> 
     UINT32 uwTick<span class="token punctuation">;</span> 

     uwTick <span class="token operator">=</span> <span class="token function">LOS_MS2Tick</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Convert 10000 ms into ticks </span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;uwTick = %d \n&quot;</span><span class="token punctuation">,</span>uwTick<span class="token punctuation">)</span><span class="token punctuation">;</span> 
     uwMs<span class="token operator">=</span> <span class="token function">LOS_Tick2MS</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Convert 100 ticks into ms </span>
         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;uwMs = %d \n&quot;</span><span class="token punctuation">,</span>uwMs<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
</code></pre></div><p>Time measurement and deferral:</p> <div class="language-c extra-class"><pre class="language-c"><code>UINT32 <span class="token function">Example_GetTick</span><span class="token punctuation">(</span>VOID<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    UINT32 uwRet <span class="token operator">=</span> LOS_OK<span class="token punctuation">;</span>
    UINT32 uwcyclePerTick<span class="token punctuation">;</span>
    UINT64 uwTickCount1<span class="token punctuation">,</span>uwTickCount2<span class="token punctuation">;</span>

    uwcyclePerTick  <span class="token operator">=</span> <span class="token function">LOS_CyclePerTickGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> uwcyclePerTick<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">dprintf</span><span class="token punctuation">(</span><span class="token string">&quot;LOS_CyclePerTickGet = %d \n&quot;</span><span class="token punctuation">,</span> uwcyclePerTick<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    uwTickCount1 <span class="token operator">=</span> <span class="token function">LOS_TickCountGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> uwTickCount1<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">dprintf</span><span class="token punctuation">(</span><span class="token string">&quot;LOS_TickCountGet = %d \n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>UINT32<span class="token punctuation">)</span>uwTickCount1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">LOS_TaskDelay</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    uwTickCount2 <span class="token operator">=</span> <span class="token function">LOS_TickCountGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> uwTickCount2<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">dprintf</span><span class="token punctuation">(</span><span class="token string">&quot;LOS_TickCountGet after delay = %d \n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>UINT32<span class="token punctuation">)</span>uwTickCount2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>uwTickCount2 <span class="token operator">-</span> uwTickCount1<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        uwRet <span class="token operator">=</span> <span class="token function">LOS_InspectStatusSetByID</span><span class="token punctuation">(</span>LOS_INSPECT_SYSTIC<span class="token punctuation">,</span> LOS_INSPECT_STU_SUCCESS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LOS_OK <span class="token operator">!=</span> uwRet<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">dprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Set Inspect Status Err\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> LOS_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        uwRet <span class="token operator">=</span> <span class="token function">LOS_InspectStatusSetByID</span><span class="token punctuation">(</span>LOS_INSPECT_SYSTIC<span class="token punctuation">,</span> LOS_INSPECT_STU_ERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>LOS_OK <span class="token operator">!=</span> uwRet<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">dprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Set Inspect Status Err\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> LOS_NOK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="verification"><a href="#verification" aria-hidden="true" class="header-anchor">#</a> Verification</h3> <p>The verification result is as follows:</p> <p><img src="data:image/png;base64,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" alt></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/LiteOS/LiteOS_Documents/edit/master/docs/en/kernel/time-magmt.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/5/2018, 5:30:57 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/en/kernel/semaphore.html" class="prev">
          Semaphore
        </a></span> <span class="next"><a href="/en/kernel/swtmr.html">
          Software Timers
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/31.58f82c5b.js" defer></script><script src="/assets/js/app.8f21dcfa.js" defer></script>
  </body>
</html>
